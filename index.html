<!DOCTYPE html>
<html lang="id">
<head>
    <title>Ucapan Ultah Interaktif</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: url('background.jpg') no-repeat center center;
            background-size: cover;
            height: 100vh;
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }
        .screen { position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        .hidden { display: none; }
        .balloon {
            width: 80px; height: 100px; background: pink;
            border-radius: 50%; position: absolute;
            animation: float 3s infinite ease-in-out;
            display: flex; justify-content: center; align-items: center;
            color: white; font-weight: bold; cursor: pointer;
        }
        .envelope { cursor: pointer; width: 150px; }
        .letter { background: white; padding: 20px; border-radius: 10px; text-align: center; }
        .photo { width: 150px; height: 150px; object-fit: cover; }
        .typing { font-size: 16px; white-space: pre-wrap; }
        .cake { width: 100px; cursor: pointer; transform: translateY(200%); transition: transform 1s ease-in-out; }
        .gift-options img { width: 80px; cursor: pointer; }
        .chatBubble { background: white; padding: 15px; border-radius: 10px; text-align: center; max-width: 80%; }
        @keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes explode { from { transform: scale(1); opacity: 1; } to { transform: scale(3); opacity: 0; } }
    </style>
</head>
<body>

<div id="intro" class="screen">
    <div class="balloon" style="top:30%;left:20%;" onclick="popBalloon(this)">Klik Aku!</div>
    <div class="balloon" style="top:50%;left:50%;" onclick="popBalloon(this)">Klik Aku!</div>
    <div class="balloon" style="top:70%;left:80%;" onclick="popBalloon(this)">Klik Aku!</div>
</div>

<div id="envelopeScreen" class="screen hidden">
    <img src="envelope.png" class="envelope" onclick="openLetter()">
</div>

<div id="letterScreen" class="screen hidden">
    <div class="letter">
        <img src="foto.jpg" class="photo">
        <div id="typedText" class="typing"></div>
        <img src="kue.png" class="cake" onclick="showGiftOptions()">
    </div>
</div>

<div id="giftScreen" class="screen hidden">
    <div class="gift-options">
        <div style="display: flex; overflow-x: auto;">
            <img src="bear.png" onclick="chooseGift('bear')">
            <img src="rabbit.png" onclick="chooseGift('rabbit')">
            <img src="cat.png" onclick="chooseGift('cat')">
        </div>
    </div>
</div>

<div id="chatScreen" class="screen hidden">
    <div class="chatBubble" id="chatMessage"></div>
</div>

<script>
    let balloonsPopped = 0;

    function popBalloon(balloon) {
        balloon.style.animation = 'explode 0.5s forwards';
        setTimeout(() => {
            balloon.remove();
            balloonsPopped++;
            if (balloonsPopped === 3) {
                document.getElementById('intro').classList.add('hidden');
                document.getElementById('envelopeScreen').classList.remove('hidden');
            }
        }, 500);
    }

    function openLetter() {
        document.getElementById('envelopeScreen').classList.add('hidden');
        document.getElementById('letterScreen').classList.remove('hidden');
        typeMessage("Selamat Ulang Tahun!\nSemoga hari ini penuh kebahagiaan dan cinta.");
    }

    function typeMessage(message) {
        let i = 0;
        function typing() {
            if (i < message.length) {
                document.getElementById('typedText').innerHTML += message[i] === '\n' ? '<br>' : message[i];
                i++;
                setTimeout(typing, 50);
            } else {
                document.querySelector('.cake').style.transform = 'translateY(0)';
            }
        }
        typing();
    }

    function showGiftOptions() {
        document.getElementById('letterScreen').classList.add('hidden');
        document.getElementById('giftScreen').classList.remove('hidden');
    }

    function chooseGift(gift) {
        const messages = {
            bear: "Semoga kamu selalu kuat dan penuh semangat seperti beruang!",
            rabbit: "Lari menuju impianmu secepat kelinci ya!",
            cat: "Semoga hidupmu seluwes dan seberuntung kucing!"
        };

        showChatBubble(messages[gift]);
    }

    function showChatBubble(message) {
        document.getElementById('giftScreen').classList.add('hidden');
        document.getElementById('chatScreen').classList.remove('hidden');
        document.getElementById('chatMessage').innerHTML = message + "<br><br>Kirim pesan dan kesanmu ya!";
        setTimeout(() => {
            window.location.href = "https://wa.me/6283838763673?text=Wow%20ucapannya%20keren%20banget!";
        }, 5000);
    }
</script>

</body>
</html>
